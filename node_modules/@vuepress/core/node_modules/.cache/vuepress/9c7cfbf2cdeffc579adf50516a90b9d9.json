{"remainingRequest":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vuepress-plugin-copyright/src/rootMixin.js","dependencies":[{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vuepress-plugin-copyright/src/rootMixin.js","mtime":1604845538240},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/cache-loader/dist/cjs.js","mtime":1604845479153},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/babel-loader/lib/index.js","mtime":1604845478936}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2hyc2xhYi9Eb2N1bWVudHMvR2l0SHViL3ByamRvYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQ2xpcGJvYXJkIGZyb20gJ0BjbGlwYm9hcmRDb21wb25lbnQnOwppbXBvcnQgb3B0aW9ucyBmcm9tICdAZHluYW1pYy9jb3B5cmlnaHQtb3B0aW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFbGVtZW50OiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMub25Db3B5ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciB0ZXh0UmFuZ2UgPSBnZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApOwogICAgICBpZiAoU3RyaW5nKHRleHRSYW5nZSkubGVuZ3RoIDwgX3RoaXMubWluTGVuZ3RoKSByZXR1cm47CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmIChfdGhpcy5ub0NvcHkpIHJldHVybjsKICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgbm9kZS5hcHBlbmRDaGlsZChnZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLmNsb25lQ29udGVudHMoKSk7CiAgICAgIHZhciBsYW5nID0gX3RoaXMuJGxhbmc7CiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBWdWUoewogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgICAgIHJldHVybiBoKENsaXBib2FyZCwgewogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIGh0bWw6IG5vZGUuaW5uZXJIVE1MLAogICAgICAgICAgICAgIGxhbmc6IGxhbmcKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS4kbW91bnQoKTsKICAgICAgdmFyIF9pbnN0YW5jZSQkZWwgPSBpbnN0YW5jZS4kZWwsCiAgICAgICAgICBpbm5lckhUTUwgPSBfaW5zdGFuY2UkJGVsLmlubmVySFRNTCwKICAgICAgICAgIGlubmVyVGV4dCA9IF9pbnN0YW5jZSQkZWwuaW5uZXJUZXh0OwoKICAgICAgaWYgKGV2ZW50LmNsaXBib2FyZERhdGEpIHsKICAgICAgICBldmVudC5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvaHRtbCcsIGlubmVySFRNTCk7CiAgICAgICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgaW5uZXJUZXh0KTsKICAgICAgfSBlbHNlIGlmICh3aW5kb3cuY2xpcGJvYXJkRGF0YSkgewogICAgICAgIHdpbmRvdy5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQnLCBpbm5lclRleHQpOwogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGlzRWxlbWVudDogZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybjsKICAgICAgdmFyIF90aGlzJCRmcm9udG1hdHRlciRjbyA9IHRoaXMuJGZyb250bWF0dGVyLmNvcHlyaWdodCwKICAgICAgICAgIGNvcHlyaWdodCA9IF90aGlzJCRmcm9udG1hdHRlciRjbyA9PT0gdm9pZCAwID8gIW9wdGlvbnMuZGlzYWJsZWQgOiBfdGhpcyQkZnJvbnRtYXR0ZXIkY287CiAgICAgIGlmICghY29weXJpZ2h0KSByZXR1cm47CgogICAgICBpZiAoX3R5cGVvZihjb3B5cmlnaHQpICE9PSAnb2JqZWN0JykgewogICAgICAgIGNvcHlyaWdodCA9IHt9OwogICAgICB9CgogICAgICB2YXIgbm9TZWxlY3QgPSBjb3B5cmlnaHQubm9TZWxlY3QgfHwgb3B0aW9ucy5ub1NlbGVjdDsKICAgICAgdGhpcy5taW5MZW5ndGggPSBjb3B5cmlnaHQubWluTGVuZ3RoIHx8IG9wdGlvbnMubWluTGVuZ3RoOwogICAgICB0aGlzLm5vQ29weSA9IGNvcHlyaWdodC5ub0NvcHkgfHwgb3B0aW9ucy5ub0NvcHk7CgogICAgICBpZiAobm9TZWxlY3QpIHsKICAgICAgICB0aGlzLiRlbC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLm9uQ29weSk7CiAgICAgIH0KICAgIH0KICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLmlzRWxlbWVudCA9IHRoaXMuJGVsLm5vZGVOYW1lICE9PSAnI2NvbW1lbnQnOwogIH0sCiAgYmVmb3JlRGVzdG9yeTogZnVuY3Rpb24gYmVmb3JlRGVzdG9yeSgpIHsKICAgIHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCB0aGlzLm9uQ29weSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vuepress-plugin-copyright/src/rootMixin.js"],"names":["Vue","Clipboard","options","data","isElement","created","onCopy","event","textRange","getSelection","getRangeAt","String","length","minLength","preventDefault","noCopy","node","document","createElement","appendChild","cloneContents","lang","$lang","instance","render","h","props","html","innerHTML","$mount","$el","innerText","clipboardData","setData","window","watch","value","$frontmatter","copyright","disabled","noSelect","style","userSelect","addEventListener","updated","nodeName","beforeDestory","removeEventListener"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Clipboard from '@clipboardComponent'\nimport options from '@dynamic/copyright-options'\n\nexport default {\n  data: () => ({\n    isElement: false,\n  }),\n\n  created () {\n    this.onCopy = (event) => {\n      const textRange = getSelection().getRangeAt(0)\n      if (String(textRange).length < this.minLength) return\n\n      event.preventDefault()\n      if (this.noCopy) return\n\n      const node = document.createElement('div')\n      node.appendChild(getSelection().getRangeAt(0).cloneContents())\n\n      const lang = this.$lang\n      const instance = new Vue({\n        render: h => h(Clipboard, {\n          props: {\n            html: node.innerHTML,\n            lang,\n          },\n        }),\n      }).$mount()\n\n      const { innerHTML, innerText } = instance.$el\n      if (event.clipboardData) {\n        event.clipboardData.setData('text/html', innerHTML)\n        event.clipboardData.setData('text/plain', innerText)\n      } else if (window.clipboardData) {\n        window.clipboardData.setData('text', innerText)\n      }\n    }\n  },\n\n  watch: {\n    isElement (value) {\n      if (!value) return\n\n      let { copyright = !options.disabled } = this.$frontmatter\n      if (!copyright) return\n\n      if (typeof copyright !== 'object') {\n        copyright = {}\n      }\n\n      const noSelect = copyright.noSelect || options.noSelect\n      this.minLength = copyright.minLength || options.minLength\n      this.noCopy = copyright.noCopy || options.noCopy\n\n      if (noSelect) {\n        this.$el.style.userSelect = 'none'\n      } else {\n        this.$el.addEventListener('copy', this.onCopy)\n      }\n    },\n  },\n\n  updated () {\n    this.isElement = this.$el.nodeName !== '#comment'\n  },\n\n  beforeDestory () {\n    this.$el.removeEventListener('copy', this.onCopy)\n  },\n}\n"]}]}