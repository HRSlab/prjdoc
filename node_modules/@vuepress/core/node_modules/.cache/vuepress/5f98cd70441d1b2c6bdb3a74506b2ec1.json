{"remainingRequest":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/hrslab/Documents/GitHub/prjdoc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vuepress-plugin-reading-progress/ReadingProgress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vuepress-plugin-reading-progress/ReadingProgress.vue","mtime":1593921767000},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/cache-loader/dist/cjs.js","mtime":1624725152320},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/babel-loader/lib/index.js","mtime":1624736487549},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/cache-loader/dist/cjs.js","mtime":1624725152320},{"path":"/Users/hrslab/Documents/GitHub/prjdoc/node_modules/vue-loader/lib/index.js","mtime":1624736598046}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVhZGluZ1Byb2dyZXNzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVhZGluZ1RvcDogMCwKICAgICAgcmVhZGluZ0hlaWdodDogMSwKICAgICAgcHJvZ3Jlc3NTdHlsZTogbnVsbCwKICAgICAgdHJhbnNmb3JtOiB1bmRlZmluZWQsCiAgICAgIHJ1bm5pbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyZWFkaW5nU2hvdzogZnVuY3Rpb24gJHJlYWRpbmdTaG93KCkgewogICAgICB0aGlzLnByb2dyZXNzU3R5bGUgPSB0aGlzLmdldFByb2dyZXNzU3R5bGUoKTsKICAgICAgdGhpcy4kcmVhZGluZ1Nob3cgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuYmFzZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLmdldFRyYW5zZm9ybSgpOwogICAgdGhpcy5wcm9ncmVzc1N0eWxlID0gdGhpcy5nZXRQcm9ncmVzc1N0eWxlKCk7CiAgICB0aGlzLiRyZWFkaW5nU2hvdyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5iYXNlKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLiRyZWFkaW5nU2hvdyAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5iYXNlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJhc2U6IGZ1bmN0aW9uIGJhc2UoKSB7CiAgICAgIGlmICghdGhpcy5ydW5uaW5nKSB7CiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTsKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nZXRSZWFkaW5nQmFzZSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZWFkaW5nQmFzZTogZnVuY3Rpb24gZ2V0UmVhZGluZ0Jhc2UoKSB7CiAgICAgIHRoaXMucmVhZGluZ0hlaWdodCA9IHRoaXMuZ2V0UmVhZGluZ0hlaWdodCgpIC0gdGhpcy5nZXRTY3JlZW5IZWlnaHQoKTsKICAgICAgdGhpcy5yZWFkaW5nVG9wID0gdGhpcy5nZXRSZWFkaW5nVG9wKCk7CiAgICAgIHRoaXMucHJvZ3Jlc3NTdHlsZSA9IHRoaXMuZ2V0UHJvZ3Jlc3NTdHlsZSgpOwogICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRSZWFkaW5nSGVpZ2h0OiBmdW5jdGlvbiBnZXRSZWFkaW5nSGVpZ2h0KCkgewogICAgICByZXR1cm4gTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LCAwKTsKICAgIH0sCiAgICBnZXRTY3JlZW5IZWlnaHQ6IGZ1bmN0aW9uIGdldFNjcmVlbkhlaWdodCgpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KHdpbmRvdy5pbm5lckhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgMCk7CiAgICB9LAogICAgZ2V0UmVhZGluZ1RvcDogZnVuY3Rpb24gZ2V0UmVhZGluZ1RvcCgpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgMCk7CiAgICB9LAogICAgZ2V0VHJhbnNmb3JtOiBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oKSB7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgdmFyIHRyYW5zZm9ybUxpc3QgPSBbJ3RyYW5zZm9ybScsICctd2Via2l0LXRyYW5zZm9ybScsICctbW96LXRyYW5zZm9ybScsICctby10cmFuc2Zvcm0nLCAnLW1zLXRyYW5zZm9ybSddOwogICAgICByZXR1cm4gdHJhbnNmb3JtTGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gaW4gZGl2LnN0eWxlOwogICAgICB9KSB8fCB1bmRlZmluZWQ7CiAgICB9LAogICAgZ2V0UHJvZ3Jlc3NTdHlsZTogZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NTdHlsZSgpIHsKICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5yZWFkaW5nVG9wIC8gdGhpcy5yZWFkaW5nSGVpZ2h0OwoKICAgICAgc3dpdGNoICh0aGlzLiRyZWFkaW5nU2hvdykgewogICAgICAgIGNhc2UgJ3RvcCc6CiAgICAgICAgY2FzZSAnYm90dG9tJzoKICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkgewogICAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMudHJhbnNmb3JtLCAiOiBzY2FsZVgoIikuY29uY2F0KHByb2dyZXNzLCAiKSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJ3aWR0aDogIi5jb25jYXQocHJvZ3Jlc3MgKiAxMDAsICIlIik7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgJ2xlZnQnOgogICAgICAgIGNhc2UgJ3JpZ2h0JzoKICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkgewogICAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMudHJhbnNmb3JtLCAiOiBzY2FsZVkoIikuY29uY2F0KHByb2dyZXNzLCAiKSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICJoZWlnaHQ6ICIuY29uY2F0KHByb2dyZXNzICogMTAwLCAiJSIpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ReadingProgress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ClientOnly>\n    <div v-if=\"$readingShow\" :class=\"$readingShow\" class=\"reading-progress\">\n      <div :style=\"progressStyle\" class=\"progress\"></div>\n    </div>\n  </ClientOnly>\n</template>\n\n<script>\nexport default {\n  name: 'ReadingProgress',\n  data () {\n    return {\n      readingTop: 0,\n      readingHeight: 1,\n      progressStyle: null,\n      transform: undefined,\n      running: false\n    }\n  },\n  watch: {\n    $readingShow () {\n      this.progressStyle = this.getProgressStyle()\n      this.$readingShow && window.addEventListener('scroll', this.base)\n    }\n  },\n  mounted () {\n    this.transform = this.getTransform()\n    this.progressStyle = this.getProgressStyle()\n    this.$readingShow && window.addEventListener('scroll', this.base)\n  },\n  beforeDestroy () {\n    this.$readingShow && window.removeEventListener('scroll', this.base)\n  },\n  methods: {\n    base() {\n      if (!this.running) {\n        this.running = true\n        requestAnimationFrame(this.getReadingBase)\n      }\n    },\n    getReadingBase () {\n      this.readingHeight = this.getReadingHeight() - this.getScreenHeight()\n      this.readingTop = this.getReadingTop()\n      this.progressStyle = this.getProgressStyle()\n      this.running = false\n    },\n    getReadingHeight () {\n      return Math.max(document.body.scrollHeight, document.body.offsetHeight, 0)\n    },\n    getScreenHeight () {\n      return Math.max(window.innerHeight, document.documentElement.clientHeight, 0)\n    },\n    getReadingTop () {\n      return Math.max(window.pageYOffset, document.documentElement.scrollTop, 0)\n    },\n    getTransform () {\n      const div = document.createElement('div')\n      const transformList = ['transform', '-webkit-transform', '-moz-transform', '-o-transform', '-ms-transform']\n      return transformList.find(item => item in div.style) || undefined\n    },\n    getProgressStyle () {\n      const progress = this.readingTop / this.readingHeight\n      switch (this.$readingShow) {\n        case 'top':\n        case 'bottom':\n          if (this.transform) {\n            return `${this.transform}: scaleX(${progress})`\n          } else {\n            return `width: ${progress * 100}%`\n          }\n          break\n        case 'left':\n        case 'right':\n          if (this.transform) {\n            return `${this.transform}: scaleY(${progress})`\n          } else {\n            return `height: ${progress * 100}%`\n          }\n          break\n        default:\n          return null\n          break\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n$readingBgColor ?= transparent\n$readingZIndex ?= 1000\n$readingSize ?= 3px\n$readingProgressColor ?= $accentColor\n$readingProgressImage ?= none\n\n.reading-progress\n  position fixed\n  z-index $readingZIndex\n  background $readingBgColor\n  overflow hidden\n  .progress\n    width 100%\n    height 100%\n    background $readingProgressColor\n    background-image $readingProgressImage\n    transform-origin 0% 0%\n    transition: transform .2s ease-out\n.top\n  top 0\n  left 0\n  right 0\n  width 100%\n  height $readingSize\n.bottom\n  bottom 0\n  left 0\n  right 0\n  width 100%\n  height $readingSize\n.left\n  left 0\n  top 0\n  bottom 0\n  width $readingSize\n  height 100%\n.right\n  right 0\n  top 0\n  bottom 0\n  width $readingSize\n  height 100%\n</style>\n"],"sourceRoot":"node_modules/vuepress-plugin-reading-progress"}]}